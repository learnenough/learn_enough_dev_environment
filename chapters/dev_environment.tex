Setting up dev environment. For Learn Enough and Rails Tutorial. Four fundamental tools:

\begin{enumerate}
  \item Command line terminal (``shell'')
  \item Text editor
  \item Git
  \item Ruby and Node.js
\end{enumerate}

Three basic possibilities in descending order of difficulty:

\begin{enumerate}
  \item Native OS (Linux, macOS, Windows)
  \item Cloud Integrated Development Environment (IDE)
  \item Virtual Machine (VM)
\end{enumerate}

Talk about each of these. If you're a total beginner, Cloud IDE or VM is probably best

Native possibilities are endless, no way we can cover all the permutations. Will focus on macOS, because that's what we use. Would be faking if we mentioned anything else, but open to suggestions for dev environment on Windows.

Techsoph a must in any case. Many suggestions here will be ``meta''


\section{Development environment setup}
\label{sec:jekyll-intro}

You will be using a framework called Jekyll to handle the processing and compiling of your pages---bringing multiple pieces of code together to build a complete site out of the parts.

\begin{figure}[H]
\begin{center}
\image{images/figures/jekyll.jpg}
\end{center}
\caption{Not Jekyll and Hyde...rather Jekyll the static site generator!\label{fig:jekyll}}

\end{figure}

Jekyll was created using the programming language Ruby, and is what is known as a Ruby gem. You can think of Ruby gems (or `gems') as plug-ins that extend the basic Ruby application that comes pre-installed now with macOS\@. Each gem also comes with packaged instructions that tell your computer how to install other third party gems that are required as dependencies to make the plug-in work.

+++add material on C9?

Developers like systems like Jekyll because they remove the need to repeat things and because they allow us to manage the content for websites in a way that resembles writing code. Specifically, Jekyll is great because by using it:

\begin{itemize}
\item Can write content in markdown in your text-editor of choice
\item Write and preview your content on your site locally in your dev environment
\item Publish changes via git
\item Your site is on a static web-server and pretty immune to traffic
\item Host your site freely on GitHub Pages
\item No database management
\end{itemize}

Gems are designed to be installed and work with whatever version of Ruby you have locally. If you were to not follow this guide and just try and install Jekyll with no other setup, you would install the gem and its dependencies in a way that directly ties them to the macOS system version of Ruby. That means that if you ever need to work on a project that requires a different version of Ruby, or if Apple changes the system Ruby, you will have to uninstall the gems that you installed, install a Ruby version manager, and then reinstall the gems.

Or more than likely you'd eventually have waste a significant amount of time trying to decipher terminal error messages that can be less than helpful. By properly setting up a Ruby version manager now you ensure that the package of gems that you install will be safely tied to a new copy of Ruby that you control, and it will protect the gems from possible conflicts in the future.

\subsection{Jekyll install}

\label{sec:jekyll-install}

We are going to go through some of these steps pretty quickly as some steps are things that you done in previous tutorials, like Learn Enough Command Line and Learn Enough Text Editor, and others we'll move quickly past because getting deep into the how and why of the inner workings of Jekyll just isn't important at this point in your progress as a developer. This isn't Learn Enough Jekyll after all!

\subsection{Installing Xcode command line tools}

\label{sec:shiny_xcode}

Xcode is a large suite of development tools and code libraries created by Apple, and it is a requirement for doing the kind of development covered by this tutorial. Thankfully, Apple has recently made Xcode incredibly quick and easy to install---it used to require a 4+ GB download of installation source files.

To install Xcode, open up your terminal and paste the following command in

\begin{codelisting}
\label{code:xcode-install}
\codecaption{Installing Xcode command line tools.}
%= lang:console
\begin{code}
$ xcode-select --install
\end{code}
\end{codelisting}

You'll be prompted by macOS to confirm that you want to install Xcode, do that and that's it!

\subsection{Installing the Homebrew package manager}

\label{sec:homebrew}

Homebrew is a command line based package manager for macOS\@. If the phrase ``package manager'' isn't familiar to you, you can think of it as an application that works like an App Store---only it is filled with free open-source software.

If by chance you have played around with Linux in the past then you might have used a package manager in the past to install applications and utilities. Even though macOS is built on a similar foundation as Linux, Apple decided not to include a built in package manager to let you easily install software. Homebrew is one of many managers that is available to the open-source community, but over time it has become one of the most popular options in the Ruby development world.

Installation of Homebrew is simple. First you are going to need to run a command from the terminal that is going to connect to the Homebrew repository, download it, and install it:

\begin{codelisting}
\label{code:homebrew-install}
\codecaption{Installing the Homebrew package manager.}
%= lang:console
\begin{code}
$ /usr/bin/ruby -e \
> "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
\end{code}
\end{codelisting}

Hit enter when prompted to start the installation, and after everything finishes downloading and installing, it will suggest that you run this command to finish the installation. Do it!

%= lang:console
\begin{code}
$ brew doctor
\end{code}
The \kode{brew doctor} command starts a process that ensures that all of the directories and permissions needed by Homebrew to manage local files are corrected set up. If you have any problems at this point, you'll need to refer to the \href{https://github.com/Homebrew/homebrew/wiki/troubleshooting}{Homebrew troubleshooting wiki} (you really shouldn't though unless you've been making changes to random system folders and permissions).

\subsection{Installing rbenv, a Ruby environment manager}

\label{sec:rbenv}

Now we are starting to get to the core of the development environment! Rbenv is a utility that will run on your computer to manage any versions of Ruby you install and it will amke sure that the gems (plug-ins) you install are placed in the right spot for Ruby to find. The rbenv system is modular and allows you to specify a different version of Ruby (and the associated gems) for different project repositories.

The full level of functionality isn't really needed for this project, but if you continue to do web development you will find that you need to lock certain projects to certain versions of Ruby because of dependencies that will only work on a specific version of Ruby. That could cause you to be unable to use your local development environment without going through some annoying updating and reconfiguring of individual applications.

To get started, from the terminal run:

%= lang:console
\begin{code}
$ brew install rbenv ruby-build
\end{code}

When the download and installation finishes, run the following at the command line to get rbenv up and running:

%= lang:console
\begin{code}
$ rbenv init
\end{code}
Now, if you are like me, you aren't going to want to have to think about starting up a management utility like rbenv every time that you open up your terminal. To set your system to always be ready for development, you are going to need to add a command to your \kode{bash\_profile}. If you completed the Learn Enough Text Editor tutorial then you are already familiar with editing the \kode{bash\_profile}, if you didn't do that tutorial and / or don't know if you have a \kode{bash\_profile} created, run this command in your terminal:

%= lang:console
\begin{code}
$ touch ~/.bash_profile
\end{code}

Right now we are only going to add a single line to it, if your computer already has a \emph{bash\_profile} from previous work, you can just open it up and check to see if the \kode{eval "\$(rbenv init -)"} line is already in it. Otherwise, to both create the file and / or add the command to start rbenv, run this in the terminal:

%= lang:console
\begin{code}
$ echo 'eval "$(rbenv init -)"' >> ~/.bash_profile
\end{code}

If you want to make sure that everything was added correctly, you can run this in the terminal:

%= lang:console
\begin{code}
$ cat ~/.bash_profile
\end{code}

That will spit out the contents for the \kode{bash\_profile} into the terminal window, and if you see \kode{eval "\$(rbenv init -)"} everything is correct. The last thing that you need to do is to let the current terminal window that you are working in know that there is a new \kode{bash\_profile} with configurations to load.

%= lang:console
\begin{code}
$ source ~/.bash_profile
\end{code}
You now have a Ruby environment manager that is ready to handle custom versions of Ruby and keep track of any gems that you install for each version.

\subsection{Installing a new Ruby version}

\label{sec:install_ruby}

Now that your environment manager is set up, let's give it a non-system version of Ruby to manage. The installation process is handled entirely by rbenv, so all you have to do is instruct it as to which version you'd like on your system by passing along the exact Ruby version and patch version number like this:

\begin{codelisting}
\label{code:ruby-nstall}
\codecaption{Installing a fresh copy of Ruby.}
%= lang:console
\begin{code}
$ rbenv install 2.1.3
\end{code}
\end{codelisting}

You will see rbenv start the download process and install any dependencies that are needed for that specific verion of Ruby. When the installation finishes, run:

%= lang:console
\begin{code}
$ rbenv rehash
\end{code}
The \kode{rehash} command lets rbenv know that there is a new version of Ruby on the system that it needs to make available for you to use.

For this guide, we are also going to make the 2.1.3 version the global default so that you won't have to worry about specifying the Ruby version when you start your project. To make the Ruby version you just installed into the default, run this in your terminal window:

%= lang:console
\begin{code}
$ rbenv global 2.1.3
\end{code}

\subsection{Installing the Github-pages gem}

\label{sec:gem}

The last piece of your dev environment setup is to install the actual framework gems that will allow you to start developing your application.

%= lang:console
\begin{code}
$ gem install github-pages --no-ri --no-rdoc
\end{code}

You'll notice that the installation command has a funny ending. That \kode{--no-ri --no-rdoc} tells the Ruby installer to ignore downloading the gem documentation. If you are interested in the details of how the gem works, feel free to not include the flags, but those documents do tend to increase the download's size and installation time (and you'll probably never read them).

The \emph{github-pages} gem is actually a big package of a bunch of gems that includes Jekyll, plus all of its dependencies, and it is created by GitHub to make using Github Pages standardized and in general a whole lot easier.

You will see the terminal display the download and installation process for all of the gems and dependencies. When the installation has finished, you will need to let the terminal know that there are new commands available to use by resourcing your \kode{bash\_profile} using the command you used before:

%= lang:console
\begin{code}
$ source ~/.bash_profile
\end{code}




    \section{Development environment}
    \label{sec:development_environment}

Considering various idiosyncratic customizations, there are probably as many development environments as there are Rails programmers. To avoid this complexity, the \emph{Ruby on Rails Tutorial} standardizes on the excellent cloud development environment \href{http://c9.io/}{Cloud9}. In particular, I am pleased to be partnering with Cloud9 to offer a free development environment specifically tailored to the needs of this tutorial. The resulting Rails Tutorial Cloud9 workspace comes pre-configured with most of the software needed for professional-grade Rails development, including Ruby, RubyGems, Git. (Indeed, the only big piece of software we'll install separately is Rails itself, and this is intentional (Section~\ref{sec:installing_rails}).)

Although you are welcome to develop your application locally, setting up a Rails development environment can be challenging, so I recommend the cloud IDE for most readers. For those who want to go the local route, try the steps at \href{http://installrails.com/}{InstallRails.com}, and be prepared for a challenging exercise in technical sophistication (Box~\ref{aside:technical_sophistication}).

The cloud IDE includes the three essential components needed to develop web applications: a text editor, a filesystem navigator, and a command-line terminal (Figure~\ref{fig:ide_anatomy}). Among other features, the cloud IDE text editor supports the ``Find in Files'' global search that I consider essential to navigating any large Ruby or Rails project.\footnote{For example, to find the definition of a function called \kode{foo}, you can do a global search for ``def foo''.} Finally, even if you decide not to use the cloud IDE exclusively in real life (and I certainly recommend learning other tools as well), it provides an excellent introduction to the general capabilities of text editors and other development tools.

\begin{figure}
\begin{center}
\image{images/figures/ide_anatomy.png}
\end{center}
\caption{The anatomy of the cloud IDE.\label{fig:ide_anatomy}}
\end{figure}

Here are the steps for getting started with the cloud development environment:
\begin{enumerate}
\item \href{https://c9.io/web/sign-up/free}{Sign up for a free account at Cloud9}.\footnote{c9.io/signup} In order to prevent abuse, Cloud9 requires a valid credit card for signup, but the Rails Tutorial workspace is 100\% free, and your card will not be charged.
\item Click on ``Go to your Dashboard''.
\item Select ``Create New Workspace''.
\item As shown in Figure~\ref{fig:cloud9_new_workspace}, create a workspace called ``rails-tutorial'' (\emph{not} ``rails\_tutorial''), set it to ``Private to the people I invite'', and select the icon for the Rails Tutorial (\emph{not} the icon for Ruby on Rails).
\item Click ``Create workspace''.
\item After Cloud9 has finished provisioning the workspace, it should start automatically.
\end{enumerate}
Because using two spaces for indentation is a near-universal convention in Ruby, I also recommend changing the editor to use two spaces instead of the default four. As shown in Figure~\ref{fig:cloud9_two_spaces}, you can do this by clicking the gear icon in the upper right and then selecting ``Code Editor (Ace)'' to edit the ``Soft Tabs'' setting. (Note that this takes effect immediately; you don't need to click a ``Save'' button.)

\begin{figure}
\begin{center}
\image{images/figures/cloud9_new_workspace_4th_ed.png}
\end{center}
\caption{Creating a new workspace at Cloud9.\label{fig:cloud9_new_workspace}}
\end{figure}

\begin{figure}
\begin{center}
\image{images/figures/cloud9_two_spaces.png}
\end{center}
\caption{Setting Cloud9 to use two spaces for indentation.\label{fig:cloud9_two_spaces}}
\end{figure}

\section{Virtual machine} % (fold)
\label{sec:virtual_machine}


This tutorial covers the basics of the Unix command line, where \emph{Unix} refers to a \href{https://en.wikipedia.org/wiki/Unix}{family of operating systems} that includes Linux, Android, iOS (iPhone/iPad), and macOS\@.\footnote{In a fairly typical turn of events, the name \emph{Unix} started as a \href{http://www.catb.org/jargon/html/U/Unix.html}{pun} on a rival system called \emph{Multics}.} Unix systems serve most of the software on the World Wide Web, run most mobile and tablet devices, and power many of the world's desktop computers as well. As a result of Unix's central role in modern computing, this tutorial covers the Unix way of developing software. The main exception to Unix's dominance is Microsoft® Windows™, which is not part of the Unix tradition, but those who mostly develop using native Windows development tools will still benefit from learning the Unix command line. Among other things, at some point such users are likely to need to issue commands on a Unix server (e.g., via the ``secure shell'' command \kode{ssh}), at which point familiarity with Unix commands becomes essential. As a result, Windows users are strongly encouraged to run a free \emph{Linux virtual machine} (as described in Box~\ref{aside:virtual_machine}) in order to get the most out of this tutorial. Another good option is to use a cloud IDE\footnote{An IDE, or \emph{integrated development environment}, integrates several development tools (such as a command line and a text editor) into one application.} such as \href{http://c9.io/}{Cloud9}; to go this route, follow the ``\href{https://www.railstutorial.org/book/beginning#sec-development_environment}{Development environment}'' section in the \href{http://railstutorial.org/book}{\emph{Ruby on Rails Tutorial} book}.

\emph{Note}: Important commands from this section are summarized in Table~\ref{table:man_echo}.

\begin{aside}
\label{aside:virtual_machine}
\heading{Running a virtual machine}

In order to complete this tutorial, Windows users should install a couple of free programs to run a \emph{virtual machine} (a simulation of a computer) that allows Windows to host a version of the Linux operating system. The steps appear as follows:

\begin{enumerate}
\item Install the right version of \href{https://www.virtualbox.org/}{VirtualBox} for your system (free).
\item Download the \href{https://softcover-static.s3.amazonaws.com/LearnEnough-v.1.4.ova}{Learn Enough Virtual Machine} (large file).
\item Once the download is complete, double-click the resulting ``OVA'' file and follow the instructions to install the Virtual Machine (VM).
\item Double-click the VM itself and log in using the default user's password, which is ``\texttt{foobar!}''.
\end{enumerate}
(Getting all these steps to work is a good exercise in \emph{technical sophistication}, an idea we'll develop further starting in Section~\ref{sec:man_pages} (Box~\ref{aside:technical_sophistication}).) The result will be a Linux desktop environment (including a command-line terminal program) pre-configured for this tutorial, as shown in Figure~\ref{fig:virtual_machine}.


In the longer run, I recommend switching to a Mac as soon as possible. You might have to save up a bit, as Macs are generally more expensive than Windows machines, but in most cases the increased productivity will quickly pay for the difference. (If you find yourself liking Linux, feel free to stick with it, but Macs are generally easier to use with a better user interface. Plus, you can always run Linux inside a VM, even on a Mac.)
\end{aside}

\begin{figure}
\begin{center}
\image{images/figures/virtual_machine.png}
\end{center}
\caption{A Linux virtual machine running inside a host OS.\label{fig:virtual_machine}}
\end{figure}

% section virtual_machine (end)
